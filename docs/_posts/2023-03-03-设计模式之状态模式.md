## 简介


1. 作用：状态模式可以把复杂的判断逻辑简化。 <br>         
2. 状态模式(State)：当一个对象的内部状态发生改变时，会导致其行为的改变，对象看起来似乎修改了它的类（**改变了该类的功能/行为**）。其别名为状态对象(Objects for States),状态模式是一种对象行为型模式。状态模式用于解决系统中复杂对象的状态转换以及不同状态下行为的封装问题。*当系统中某个对象存在多个状态，这些状态之间可以进行转换，而且对象在不同状态下行为不相同时可以使用状态模式。*


## UML结构图
<img src="/my_pic/state pattern.png">


上图中的几个角色： <br> 

Context（环境类）：环境类又称为上下文类，它是拥有多种状态的对象。由于环境类的状态存在多样性且在不同状态下对象的行为有所不同，因此将状态独立出去形成单独的状态类。在环境类中维护一个抽象状态类State的实例，这个实例定义当前状态，在具体实现时，它是一个State子类的对象。State在go语言中一般是接口。
<br>
<br>
State（抽象状态类/接口）：它用于定义一个接口以封装与环境类的一个特定状态相关的行为，在抽象状态类中声明了各种不同状态对应的方法，而在其子类中实现类这些方法，由于不同状态下对象的行为可能不同，因此在不同子类中方法的实现可能存在不同，相同的方法可以写在抽象状态类中。公共方法可以放入一个公共的struct中，子类内嵌即可。
<br>
<br>
ConcreteState（具体状态类）：它是抽象状态类的子类，每一个子类实现一个与环境类的一个状态相关的行为，每一个具体状态类对应环境的一个具体状态，不同的具体状态类其行为有所不同。<br>  

## 代码示例
示例来源：[知乎程序员麻辣烫](https://zhuanlan.zhihu.com/p/395772574)

状态机有3个组成部分：状态（State）、事件（Event）、动作（Action）。**事件触发状态的转移及动作的执行。**
<br>
只看定义和UML，可能比较难理解使用状态模式有什么好处，举个例子就清晰了。
<br>
假设有四种状态A、B、C、D，同时有四种触发事件E1、E2、E3、E4，如果不使用状态模式，写出来的样子是这样的：



